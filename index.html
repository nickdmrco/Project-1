<!DOCTYPE html>
<html>

<head>
  <title>Hiker App</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDC7mbC8kf9BdCQqWDR-fmfjpJpzGJdQe0&callback=initAutocomplete&libraries=places"
    defer></script>

  <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/js/uikit.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/js/uikit-icons.min.js"></script>

  <style>

    #weatherLink {
      font-size: 14px;
      padding-left: 15px;
      padding-right: 15px;
    }

    #map {
      height: 500px;
    }

    #description {
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
    }

    #infowindow-content .title {
      font-weight: bold;
    }

    #infowindow-content {
      display: none;
    }

    #map #infowindow-content {
      display: inline;
    }

    .pac-card {
      margin: 10px 10px 0 0;
      border-radius: 2px 0 0 2px;
      box-sizing: border-box;
      -moz-box-sizing: border-box;
      outline: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      background-color: #fff;
      font-family: Roboto;
    }

    #pac-container {
      padding-bottom: 12px;
      margin-right: 12px;
    }

    .pac-controls {
      display: inline-block;
      padding: 5px 11px;
    }

    .pac-controls label {
      font-family: Roboto;
      font-size: 13px;
      font-weight: 300;
    }

    #pac-input {
      background-color: #fff;
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
      margin-left: 12px;
      padding: 0 11px 0 13px;
      text-overflow: ellipsis;
      width: 400px;
    }

    #pac-input:focus {
      border-color: #4d90fe;
    }

    #title {
      color: #fff;
      background-color: #4d90fe;
      font-size: 25px;
      font-weight: 500;
      padding: 6px 12px;
    }

    #target {
      width: 345px;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/css/uikit.min.css" />

  <script>
    function initAutocomplete() {
      const map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: -33.8688, lng: 151.2195 },
        zoom: 13,
        mapTypeId: "roadmap",
      });

      const input = document.getElementById("pac-input");
      input.value+= "Hiking Trails Near:"

      const searchBox = new google.maps.places.SearchBox(input);
      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

      map.addListener("bounds_changed", () => {
        searchBox.setBounds(map.getBounds());
      });
      let markers = [];

      searchBox.addListener("places_changed", () => {
        const places = searchBox.getPlaces();

        if (places.length == 0) {
          return;
        }

        markers.forEach((marker) => {
          marker.setMap(null);
        });
        markers = [];

        const bounds = new google.maps.LatLngBounds();
        places.forEach((place) => {
          if (!place.geometry) {
            console.log("Returned place contains no geometry");
            return;
          }
          const icon = {
            url: place.icon,
            size: new google.maps.Size(71, 71),
            origin: new google.maps.Point(0, 0),
            anchor: new google.maps.Point(17, 34),
            scaledSize: new google.maps.Size(25, 25),
          };

          markers.push(
            new google.maps.Marker({
              map,
              icon,
              title: place.name,
              position: place.geometry.location,
            })
          );

          if (place.geometry.viewport) {
            bounds.union(place.geometry.viewport);
          } else {
            bounds.extend(place.geometry.location);
          }
        });
        map.fitBounds(bounds);
      });
    }
  </script>
</head>

<body>
  <nav class="uk-navbar-container uk-margin" uk-navbar>
    <div class="uk-navbar-left">
  
      <a class="uk-navbar-item uk-logo" href="#"><img id='logo' src='./assets/HykerLogo3.png'></a>
  
      <ul class="uk-navbar-nav">
        <li>
          <a href="./index.html" id='homeLink'>Find Your Hike!</a>
        </li>
      </ul>
      <ul class="uk-navbar-nav">
        <a href="./weather.html" id='weatherLink'>CHECK YOUR WEATHER!</a>
        </li>
      </ul>
      <ul class="uk-navbar-nav">
        <li>
          <a href="./app.html" id='appLink'> About</a>
        </li>
      </ul>
      <ul class="uk-navbar-nav">
        <li>
          <a href="./contact.html" id='contactLink'>Contact Us</a>
        </li>
      </ul>
  </nav>
  
  
  <div class="uk-child-width-expand@s uk-text-center" uk-grid>
    <div>
      <article class="uk-article">
  
        <h1 class="uk-article-title"><a class="uk-link-reset" href="">Welcome to Hyker.</a></h1>
  
        <p class="uk-text-lead">We are your one-stop site for finding local hiking trails wherever you are or plan to
          be. Enter any city into the search and
          you'll be able to see trails nearby.
        </p>

        <p class="uk-text-lead">Enter your location search for local hiking tails.</p>
  
        <div class="uk-grid-small uk-child-width-auto" uk-grid>
        </div>
    </div> 
  </div>

  <input id="pac-input" class="controls" type="text" placeholder="Search Box" />
  <div id="map"></div>

</body>
</html>
